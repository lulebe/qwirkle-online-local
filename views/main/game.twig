{% extends "layout.twig" %}

{% block title %}Game{% endblock %}

{% block js %}
<script type="text/javascript">
  const gameName = "{{ gameName }}"
  const playerNames = {{ players | raw }}
</script>
<script src="/socket.io/socket.io.js"></script>
<script type="text/javascript" src="/static/js/main/canvas.js"></script>
<script type="text/javascript" src="/static/js/main/game.js"></script>
{% endblock %}

{% block main %}
<canvas id="game-canvas"></canvas>
<div class="game-header">
  <h1>playing Game {{ gameName }}: <span id="turn-player"></span>'s turn</h1>
</div>
<div class="game-sideboard">
  <div class="game-scoreboard">
    <h2>Scoreboard</h2>
    <ul id="scoreboard"></ul>
  </div>
  <div class="game-misc">
    Zoom: 
    <button id="zoom-in">+</button>
    <button id="zoom-out">-</button>
    <br><br><br>
    Pieces left in Box: <span id="box-size"></span>
    <br><br><br>
    Pieces selected: <span id="selection-size"></span>
    <br><br><br>
    <div id="warning-box">This is a test warning.</div>
  </div>
  <div class="game-main-actions">
    <button id="main-action-reset">reset</button>
    <button id="main-action-swap" class="warning">swap</button>
    <button id="main-action-finish" class="primary">finish</button>
  </div>
</div>
<div id="loadgame-popup">
  <div id="loadgame-modal">
    <h3>Continue last game?</h3>
    <p>An unfinished game is stored on this device. The same player names are connected, so you can continue it.</p>
    <div class="buttons">
      <button id="loadgame-new">Start new Game</button>
      <button id="loadgame-load" class="primary">Continue Game</button>
    </div>
  </div>
</div>
{% endblock %}